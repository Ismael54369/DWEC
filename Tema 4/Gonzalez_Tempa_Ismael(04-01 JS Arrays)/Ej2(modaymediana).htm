<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ejercicio 2</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
</head>
<body>
    <div class="container mt-5">
        <div class="card">
            <div class="card-header">
                <h1 class="card-title">Análisis de un Array de 50 Números Aleatorios</h1>
            </div>
            <div class="card-body">
                <h5 class="card-subtitle mb-2 text-muted">Array generado:</h5>
                <p id="array-completo" class="border p-2 rounded bg-light" style="word-wrap: break-word;"></p>

                <h5 class="card-subtitle mb-2 text-muted">Array ordenado:</h5>
                <p id="array-ordenado" class="border p-2 rounded bg-light" style="word-wrap: break-word;"></p>
                
                <h5 class="card-subtitle mt-4 mb-2 text-muted">Resultados del análisis:</h5>
                <ul class="list-group">
                    <li class="list-group-item d-flex justify-content-between align-items-center">
                        Mediana
                        <span id="mediana" class="badge bg-success rounded-pill fs-6"></span>
                    </li>
                    <li class="list-group-item d-flex justify-content-between align-items-center">
                        Moda
                        <span id="moda" class="badge bg-danger rounded-pill fs-6"></span>
                    </li>
                </ul>
            </div>
        </div>
    </div>

    <script>
        // Genera 50 números aleatorios entre 1 y 10.
        function numerosRandom() {
            const arrayNum = []; // Se inicializa un array vacío.
            for (let i = 0; i < 50; i++) { // El bucle se ejecuta 50 veces.
                // Se añade un número aleatorio entre 1 y 10.
                arrayNum.push(Math.floor(Math.random() * 10) + 1);
            }
            return arrayNum;
        }

        // Calcula la moda del array.
        function calcularModa(array) {
            const frecuencia = {};
            let moda = []; // Puede haber más de una moda.
            let maximaFrecuencia = 0;

            // 1. Contar la frecuencia de cada número.
            for (const num of array) {
                // Si el número ya está en el contador, súmale 1. Si no, inicialízalo en 1.
                frecuencia[num] = (frecuencia[num] || 0) + 1;
            }

            // 2. Encontrar la frecuencia más alta.
            for (const num in frecuencia) {
                if (frecuencia[num] > maximaFrecuencia) {
                    maximaFrecuencia = frecuencia[num];
                }
            }

            // 3. Encontrar todos los números que tienen esa frecuencia máxima.
            for (const num in frecuencia) {
                if (frecuencia[num] === maximaFrecuencia) {
                    moda.push(num);
                }
            }

            // Si todos los números aparecen la misma cantidad de veces, no hay moda.
            if (moda.length === Object.keys(frecuencia).length) {
                return "No hay moda";
            }

            return moda.join(', ');
        }

        // --- Lógica principal para mostrar los resultados ---

        // 1. Generamos los números UNA SOLA VEZ y los guardamos.
        const misNumeros = numerosRandom();
        document.getElementById('array-completo').textContent = misNumeros.join(', ');

        // 2. Ordenamos el array numéricamente.
        // La función (a, b) => a - b le dice a sort que ordene como números.
        const numerosOrdenados = misNumeros.sort((a, b) => a - b);
        document.getElementById('array-ordenado').textContent = numerosOrdenados.join(', ');

        // 3. Calculamos la mediana usando el array ORDENADO.
        // Para 50 elementos, la mediana es el promedio de los elementos en las posiciones 24 y 25 (índices).
        const mediana = (numerosOrdenados[24] + numerosOrdenados[25]) / 2;
        document.getElementById('mediana').textContent = mediana;

        // 4. Calculamos la moda.
        const moda = calcularModa(numerosOrdenados); // Le pasamos el array (ordenado o no, da igual para la moda).
        document.getElementById('moda').textContent = moda;

    </script>
</body>
</html>