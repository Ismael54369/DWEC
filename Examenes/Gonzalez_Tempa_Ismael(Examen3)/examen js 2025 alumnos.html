<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ejercicio1</title>

    <style>
        @font-face {
            font-family: 'Lobster';
            font-style: normal;
            font-weight: 400;
            src: url(lobster.woff2) format('woff2');
            unicode-range: U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;
        }

        .cajabonita {
            font-family: Century Gothic, CenturyGothic, AppleGothic, sans-serif;
            color: #006;
            font-size: 18px;
            font-weight: 600;
            text-align: center;
            background: #ccccff;
            overflow: hidden;
            padding: 20px;
            width: 500px;
            margin: 40px auto;
            border-radius: 35px 0px 35px 0px;
            -moz-border-radius: 35px 0px 35px 0px;
            -webkit-border-radius: 35px 0px 35px 0px;
            border: 2px solid #0000ff;
        }

        h1,
        h2 {
            color: #0000DD;
            font-family: 'Georgia';
        }
    </style>
</head>

<body>
    <div class="cajabonita">
        <h1> Nombre: Ismael González Tempa</h1>

    </div>
     <div style="margin: auto;width:800px"> 
            <img  src="notas.jpg">
            </div>
    <div class="cajabonita">
        <h2>Ejercicio 1 Arrays</h2>
                1. Crea una funcion que reciba un numero indeterminado de Arrays de tamaños distintos crea una funcion function ej1Mezclar(array1, array2 ) que los mezcle y los muestre en la web.
           
	let array1 = [1,2,4,5] ;  let array2 = [6,7,1];  let array3 = [100];  let array4 = [6,7,1]
	ej1Mezclar( array1, array2)  // [1,6,2,7,4,1,5]
	ej1Mezclar( array1, array2,array3)  // [1,6,100,2,7,4,1,5]
        <h4> Muestra los datos aqui </h4>
        <div id="info1"></div>
        
       
              
        
            <script>
            function ej1Mezclar(...arrays) {
                let resultado = [];
                
                // Buscamos cuál es el array más largo de todos
                let longitudMax = 0;
                
                arrays.forEach(function(unArray) {
                    if (unArray.length > longitudMax) {
                        longitudMax = unArray.length;
                    }
                });

                // Recorremos posición por posición (0, 1, 2...) hasta el máximo
                for (let i = 0; i < longitudMax; i++) {
                    
                    // En cada posición, miramos todos los arrays que nos han pasado
                    arrays.forEach(function(unArray) {
                        // Si el array tiene dato en esa posición, lo guardamos
                        if (unArray[i] !== undefined) {
                            resultado.push(unArray[i]);
                        }
                    });
                }

                document.getElementById("info1").innerHTML = "Resultado: [" + resultado.join(", ") + "]";
            }
            
            let array1 = [1, 2, 4, 5]
            let array2 = [6, 7, 1]
            ej1Mezclar(array1, array2)

            array1 = [1, 2, 4, 5, 3]
            array2 = [6]
            let array3 = [10, 11]
            let array4 = [26, 27, 28]

           ej1Mezclar(array1, array2, array3, array4)// [1,6,10,26,2,11,27,4,28,1,5,3]
        
        </script>
    </div>
   
   
    <div class="cajabonita">
        <h2>Ejercicio 2 Funciones</h2>
        <label>Año</label>
        <input type="text" id="year"><br>
        <label>Mes</label>
        <input type="text" id="mes"><br>
        <label>Dia</label>
        <input type="text" id="dia"><br><br>
        <button onclick="calcularDias()">Escribe la fecha Funcion Tradicional</button>
        <p id="fechaIntroducida">Fecha: </p>
        <button onclick="calcularDiasAnonima()">Escribe la fecha Funcion Anonima</button>
        <p id="fechaIntroducidaanonima">Fecha: </p>
        <button onclick="calcularDiasLambda()">Escribe la fecha funcion flechas</button>
        <p id="fechaIntroducidaflechas">Fecha: </p>
        <button onclick="calcularDiasLambdaparametros('#444','negrita')">Escribe funcion flechas parametros </button>
        <p id="fechaIntroducidaflechas">Fecha:</p>
        <script>
            // Función de ayuda para no repetir código
            function dameLaFecha() {
                let y = document.getElementById("year").value;
                let m = document.getElementById("mes").value;
                let d = document.getElementById("dia").value;
                
                let fecha = new Date(y, m - 1, d);
                return fecha.toDateString();
            }

            /* Define calculardias de manera tracional*/
            function calcularDias() {
                let resultado = dameLaFecha();
                document.getElementById("fechaIntroducida").innerHTML = "Tradicional: " + resultado;
            }
            
            /* Define calculardias  de manera anonima*/
            const calcularDiasAnonima = function() {
                let resultado = dameLaFecha();
                document.getElementById("fechaIntroducidaanonima").innerHTML = "Anónima: " + resultado;
            }
            
            /* Define calculardias  de manera anonima con flechas*/
            const calcularDiasLambda = () => {
                let resultado = dameLaFecha();
                document.getElementById("fechaIntroducidaflechas").innerHTML = "Flecha: " + resultado;
            }
            
            // calcularDiasLambdaparametros('#444','negrita')

        </script>

    </div>
   

    <div class="cajabonita">
        <h2>Ejercicio 3 Conjuntos</h2>
        <br> 1. Crea una función crearConjunto que dado un numero indeterminado de parametros, nos devuelva un array que
        con
        solo los que NO estan repetidos.
        <br> CrearConjunto(7,2,3,4,555,5,5,5,5,5,5,5,5,5,3,3,3,1,1,1) debe devolver [7,2,3,4,5,1]
<br>
        <br> 2. Añade una funcion unirConjuntos(c1,c2) que una ambos conjuntos eliminando los repetidos
        <br> unirConjuntos( [7,2,3,6,5,1] ,[7,2,3,4,5,1,10,9] ) debe devolver [7,2,3,4,5,1]
<br>
        <br> 3. Añade una funcion disjuntosConjuntos(c1,c2) que una ambos conjuntos eliminando los que estan en ambos
        <br> disjuntosConjuntos( [7,2,3,6,5,1] ,[7,2,3,4,5,1,10,9] ) debe devolver [6,10,9]
<br>
        <br> 4. Añade una funcion MostrarConjunto() muestre como un string el array
        <br> Se valorara el uso de las funciones propias de los conjuntos
        <h4> Muestra los datos aqui </h4>

        <div id="info3"></div>     
        <script>
            // aqui debe ir el codigo del objeto

            function crearConjunto(...numeros) {
                // 'new Set' elimina los duplicados automáticamente
                let conjunto = new Set(numeros);
                // Convertimos el Set de vuelta a un Array con Array.from
                return Array.from(conjunto);
            }
            function disjuntosConjuntos(c1, c2) {
                // Filtramos los de c1 que NO están en c2
                let soloEnC1 = c1.filter(function(num) {
                    return !c2.includes(num);
                });

                // Filtramos los de c2 que NO están en c1
                let soloEnC2 = c2.filter(function(num) {
                    return !c1.includes(num);
                });

                // Unimos los resultados
                return soloEnC1.concat(soloEnC2);
            }
            function unirConjuntos(c1, c2) {
                // Concatenamos (unimos) los dos arrays primero
                let unidos = c1.concat(c2);
                // Usamos Set para quitar repetidos y devolvemos array
                return Array.from(new Set(unidos));
            }
            function MostrarConjunto(datos) {
                let divInfo = document.getElementById("info3");
                divInfo.innerHTML += "<p>Conjunto: [" + datos.join(", ") + "]</p>";
            }

            let ej3a = crearConjunto(1, 4, 1, 4, 1, 2, 1, 7, 7, 7, 9, 21);
            let ej3a2 = crearConjunto(1, 4, 24, 12, 17, 1, 7, 9, 21);
            let ej3a3 = crearConjunto(1, 4, 5, 3, 4, 1);
            let ej3b = unirConjuntos(ej3a,ej3a2)
            let ej3c = disjuntosConjuntos(ej3a, ej3a2)
            

            // Mostrar a,b,c en info
            MostrarConjunto(ej3a)
            MostrarConjunto(ej3a2)
            MostrarConjunto(ej3a3)
            MostrarConjunto(ej3b)
            MostrarConjunto(ej3c)

        </script>
    </div>


    <div class="cajabonita">
        <h2>4. Metodos Funcionales 1 </h2>
             (los ejercicio de esto punto deben hacerse con metodos funcionales si no no vale)
       
        ◦ Crea una función tresMitad(array)  que  recorra un array de cadenas  y nos devuelva    <br>   
        la cadena de tres que aparecen en la mitad y los dos laterales.    <br>  
           <br>   Si tiene menos de 3 se devuelve todo. 
           <br>  Si tiene pares para mitad se escoge mitad-1. 
            <br>   tresMitad(['pepes','Lopez','c','javascript','java']) //  'epe','ope','c','asc','jav',
            <h4> Muestra los datos aqui </h4>
        <div id="info4"></div>
              <script>
                function tresMitad(array) {
                    let resultado = array.map(function(palabra) {
                        
                        // Si mide menos de 3 letras, devolvemos la palabra entera
                        if (palabra.length < 3) {
                            return palabra;
                        }

                        // Calculamos dónde empezar a recortar
                        // Queremos 3 letras, así que restamos 3 al total y dividimos entre 2
                        let inicio = Math.floor((palabra.length - 3) / 2);
                        
                        // Recortamos 3 letras desde esa posición
                        return palabra.substr(inicio, 3);
                    });

                    // Mostramos el resultado separado por comas
                    document.getElementById("info4").innerHTML = "Resultado: " + resultado.join(", ");
                }
                tresMitad(['pepes','Lopez','c','javascript','java']) //  'epe','ope','c','asc','jav'
            </script>
 </div>
 
 <div class="cajabonita">
    <h2>5. Metodos Funcionales 2 </h2>
      <br>  ◦ Crea una función sumarPotencias2Indices  que  nos devuelva el resultado de multiplicar 
    <br>    cada numero por su posicion elevado a 2 y sumarlos
     <br>   Por ejemplo 
     <br>
sumarPotencias2Indices([1,3,4,2,1]) 
<br>//  [1*1 + 3*2 + 2*4 + 2*8 + 1*16] = 1+6 +  8 + 16 + 16 = 47

<script>
            // aqui debe ir el codigo
           // sumarPotencias2Indices([1,3,4,2,1]) 
            //  [1*1 + 3*2 + 2*4 + 2*8 + 1*16] = 1+6 +  8 + 16 + 16 = 47
            // mostrar array
        </script>
        <h4> Muestra los datos aqui </h4>
        <div id="info5"></div>
 </div>
 
 <div class="cajabonita">

    <h2>6. Metodos Funcionales 3 </h2>
        ◦ Crea una función ordenTamaño que tenga por entrada un array de strings
            <br> y nos lo devuelva ordenados por su tamaño y si son iguales por 
                <br>el orden alfabetico de la primera letra
                    <br>ordenTamaño ([“hola”, “mv”, “adios”, “xz” , “ b”])
                        <br> =>  [“ b”, “mv”,  “xz” , “hola”,“adios”]
<script>
            // aqui debe ir el codigo
          //ordenTamaño ([“hola”, “mv”, “adios”, “xz” , “ b”])
            //  [“ b”, “mv”,  “xz” , “hola”,“adios”]
            // mostrar array
        </script>
        <h4> Muestra los datos aqui </h4>
        <div id="info6"></div>
 </div>
 
 <div class="cajabonita">
<h2>7. Metodos Funcionales 4 </h2>
        ◦ Crea una función sumasLetras(ArrayDoble) que sume todos los elementos de un array de arrays . Puede haber letras con los valores Hexadecimales A = 10  B=11 … F= 15 … si sale algo mas que F es un error
          sumasLetras ([ 1,2], [“B”,1, 1], [1,3,”A”] ])  =>  1+2+11+1+1+1+3+10 = 30

        <h4> Muestra los datos aqui </h4>
        <div id="info7"></div>
        <script>
        function sumasLetras(arrayDoble) {
            // 'flat()' aplana el array (convierte [[1,2], [3]] en [1,2,3])
            let arrayPlano = arrayDoble.flat();

            let total = arrayPlano.reduce(function(suma, elemento) {
                let valor = elemento;

                // Si es un texto (String), intentamos convertir hexadecimal
                if (typeof elemento === 'string') {
                    // Convertimos A=10, B=11... usando parseInt con base 16
                    let numeroHex = parseInt(elemento, 16);
                        
                    // Comprobamos si es válido (letras A-F son validas)
                    if (!isNaN(numeroHex) && numeroHex <= 15) {
                        valor = numeroHex;
                    } else {
                        console.log("Error: Valor no válido o mayor que F: " + elemento);
                        valor = 0;
                    }
                }
                    
                return suma + valor;
            }, 0); // El 0 es el valor inicial de la suma

            document.getElementById("info7").innerHTML = "Suma total: " + total;
        }

        sumasLetras([[1,2], ["B",1,1], [1,3,"A"]]);
        </script>
        
 </div>
 
 <div class="cajabonita">
    <h2>8. Metodos Funcionales 5 </h2>
   <br> • Crea una función contarCadenas(array) que  Dado un array con palabras repetidas, 
   <br>debes agruparlas y contar cuántas veces aparece cada una, usando únicamente reduce..  <br>
    <br>  const palabras = [   "js",    "html",   "css",  "js",   "css",   "js",   "react" ];
   <br>  Debes usar reduce para genera un array de arrays donde Cada sub-array tenga el formato:
<br> ["palabra", cantidad]
   <br> • contarCadenas(palabras)  // [    ["js", 3],    ["html", 1],    ["css", 2],   ["react", 1]  ]
  <br>  • Ordena el resultado de mayor a menor cantidad: 
      [    ["js", 3],   ["css", 2],   ["html", 1],   ["react", 1]  ]
        
        <h4> Muestra los datos aqui </h4>
        <div id="info8"></div>
        <script>
            function contarCadenas(array) {
                // Contar usando reduce (creamos un objeto intermedio)
                // El acumulador es un objeto {}
                let contador = array.reduce(function(acumulador, palabra) {
                    if (acumulador[palabra]) {
                        // Si la palabra ya existe, sumamos 1
                        acumulador[palabra] = acumulador[palabra] + 1;
                    } else {
                        // Si es la primera vez que sale, la inicializamos a 1
                        acumulador[palabra] = 1;
                    }
                    return acumulador;
                }, {});

                let resultado = [];
                
                for (let palabra in contador) {
                    let cantidad = contador[palabra];
                    // Metemos la parejita en el array
                    resultado.push([palabra, cantidad]);
                }

                //Ordenar de mayor a menor cantidad
                resultado.sort(function(a, b) {
                    // a[1] es la cantidad del primer elemento
                    // b[1] es la cantidad del segundo
                    return b[1] - a[1];
                });

                let textoSalida = "[ "; 
                
                for (let i = 0; i < resultado.length; i++) {
                    let par = resultado[i]; // Esto es ["js", 3]
                    let nombre = par[0];
                    let num = par[1];
                    
                    textoSalida += "['" + nombre + "', " + num + "]";
                    
                    // Si NO es el último elemento, ponemos una coma para separar
                    if (i < resultado.length - 1) {
                        textoSalida += ", ";
                    }
                }
                
                textoSalida += " ]"; // Cerramos el corchete

                document.getElementById("info8").innerHTML = textoSalida;
            }
            const palabras = [   "js",    "html",   "css",  "js",   "css",   "js",   "react" ];
            contarCadenas(palabras)  // [    ["js", 3],    ["html", 1],    ["css", 2],   ["react", 1]  ]
        </script>
        
    </div>









    <div class="cajabonita">
        <h2>Ejercicio 9. Arrays Multidimensional</h2>
        <br>Dado un valor num.  haz un array del triangulo de pascal y muestralo por pantalla
         <br> Para hacer el triangulo solo debes  ver que <br><br>
         <br> Cada celda es la suma de las dos anterior superiores 
         <br> <strong> triangulo[i][1] = (triangulo[i][0] + triangulo[i-1][0]) </strong><br><br>
        si el valor esta definido en ese parametro si no 0. Por ejemplo para n=6
        <br> <img src="./pascal.png.jpg" width="500" />
        <h4> Muestra los datos aqui </h4>

        <div id="info9"></div>
        <script>
            function pascal(filas) {
                let triangulo = [];

                for (let i = 0; i < filas; i++) {
                    triangulo[i] = []; // Creamos la fila vacía
                    
                    for (let j = 0; j <= i; j++) {
                        if (j === 0 || j === i) {
                            // El primer y último número de cada fila siempre es 1
                            triangulo[i][j] = 1;
                        } else {
                            // Sumamos los dos números de la fila de arriba
                            triangulo[i][j] = triangulo[i-1][j-1] + triangulo[i-1][j];
                        }
                    }
                }
                
                // Mostrar en pantalla (creando una tabla simple)
                let html = "<table border='1'>";
                for(let i = 0; i < triangulo.length; i++) {
                    html += "<tr>";
                    for(let j = 0; j < triangulo[i].length; j++) {
                        html += "<td>" + triangulo[i][j] + "</td>";
                    }
                    html += "</tr>";
                }
                html += "</table>";
                
                document.getElementById("info9").innerHTML = html;
                
                return triangulo;
            }

            pascal(6);

        </script>
    
    </div>
    <div class="cajabonita">
        <h2>Ejercicio 10. Arrays Multidimensional fibonaci </h2>
       <br><br>  Calcula un termino de la secuencia de fibonaci usando el triangulo de pascal 
          <br><br> sabiendo que se calcula con las    diagonales de este triangulo

        <br>   fib(n) = triangulo[n][0] +triangulo[n-1][1] + … + triangulo[0][n]
        
        <img src="./fibopascal2.jpg" width="500" />
        <h4> Muestra los datos aqui </h4>

        <div id="info10"></div>
        <script>
            function fib(n) {
                let filasTotales = n + 1;
                let triangulo = pascal(filasTotales);
                
                // Calculamos qué celdas forman la diagonal de Fib(n) para pintarlas de otro color
                // La diagonal empieza en fila n-1, col 0 y sube.
                let celdasDiagonal = [];
                let fila = n - 1;
                let columna = 0;
                let sumaFib = 0;
                
                while(fila >= 0) {
                    if(triangulo[fila] && triangulo[fila][columna] !== undefined) {
                        celdasDiagonal.push(fila + "-" + columna); // Guardamos "fila-columna" como identificador
                        sumaFib += triangulo[fila][columna];
                    }
                    fila--;
                    columna++;
                }
            
                let html = "<h3>Resultado Fib(" + n + ") = " + sumaFib + "</h3>";

                html += "<table border='1'>";
                
                for (let i = 0; i < filasTotales; i++) {
                    html += "<tr>";
                    for (let j = 0; j < filasTotales; j++) {
                        let valor = "";
                        let color = "";
                        
                        if (triangulo[i] && triangulo[i][j] !== undefined) {
                            valor = triangulo[i][j];
                            
                            if (celdasDiagonal.includes(i + "-" + j)) {
                                color = "style='background-color: yellow'"; 
                            }
                        } 
                        
                        html += "<td " + color + ">" + valor + "</td>";
                    }
                    html += "</tr>";
                }
                html += "</table>";

                document.getElementById("info10").innerHTML = html;
            }

        fib(5);
        </script>
    </div>
</body>

</html>